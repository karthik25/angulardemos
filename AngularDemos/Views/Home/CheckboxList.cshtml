@{
    ViewBag.Title = "CheckboxList";
}

<style type="text/css">
    ul.dropdown-menu-form {
        padding: 0 0 0 30px;
        max-height: 200px;
        overflow-y: scroll;
    }
</style>

<h2>CheckboxList</h2>

<div class="container">
    <div ng-app="HelperModules">
        <div ng-controller="ClientListController">
            <div class="dropdown">
                <a class="dropdown-toggle btn btn-default" data-toggle="dropdown" href="#">Clients <b class="caret"></b></a>
                <ul class="dropdown-menu dropdown-menu-form" role="menu">
                    <li ng-repeat="client in clients">
                        <label class="checkbox">
                            <input type="checkbox" />
                            {{ client.Name }}
                        </label>
                    </li>                    
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/angular.js"></script>
<script src="~/Scripts/jquery-2.1.1.js"></script>
<script>
    var module = angular.module("HelperModules", []);

    module.controller("ClientListController", function ($scope, $http) {
        $scope.clients = [];

        $http.get('/api/basic/clients').success(function (data) {
            $scope.clients = data;
        });
    });
</script>

@section scripts
{
    <script>
        $(function () {
            $('.dropdown-menu').on('click', function (e) {
                if ($(this).hasClass('dropdown-menu-form')) {
                    e.stopPropagation();
                }
            });
        })
</script>
}
